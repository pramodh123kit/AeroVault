@using Microsoft.AspNetCore.Http
@using System.Text.Json
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="~/Content/css/UserSidebarStyles.css">
</head>
<body>
    <div class="modal-notification-edit9" id="editfile-popup7" style="display: none;">
        <div class="sidebar" id="sidebar">
            <img src="~/Content/Assets/admin-sidebar-peacock1.svg" alt="Sri Lankan IT Systems Logo" class="footer-logo  peacock-background" />
            <img src="~/Content/Assets/AeroVault-Logo.svg" alt="AeroVault Logo" class="logo" />
            <div class="profile-info" style="margin-top:0px" marign-left:0px;>
                <img src="~/Content/Assets/AdminProf.svg" alt="Profile Picture">
                <span class="name">@Context.Session.GetString("StaffName")</span>
            </div>
            <div class="profile-details" style="display: none;">
                <p>Additional information about Rusith Manorathna</p>
                <p>Contact: pramodh@example.com</p>
                <p>Role: Administrator</p>
            </div>
            <ul class="menu">
                <li class="nav-item">
                    <a class="nav-link" asp-area="" asp-controller="User Overview" asp-action="User PageOverview">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" asp-area="" asp-controller="User FileRepository" asp-action="FileRepository">File Repository</a>
                </li>
            </ul>
            <img src="~/Content/Assets/admin-sidebar-SLA-logo.svg" alt="Sri Lankan Peacock brand" class="footer-logo" />
        </div>
    </div>

    <div id="dark-overlay5" class="dark-overlay" style="display: none;"></div>

    <script>
        const staffNo = @Html.Raw(JsonSerializer.Serialize(Context.Session.GetString("StaffNo")));
        const staffName = @Html.Raw(JsonSerializer.Serialize(Context.Session.GetString("StaffName")));
        const department = @Html.Raw(JsonSerializer.Serialize(Context.Session.GetString("Department")));

        document.addEventListener("DOMContentLoaded", function () {
            const sidebar = document.getElementById("sidebar");
            const profileInfo = document.querySelector('.profile-info');
            const originalContent = profileInfo.innerHTML;

            const newContent = `
                <div class="profile-info" style="margin-top:0px; border:none; display: flex; flex-direction: column; align-items: center; padding-top:0px; padding-bottom:0px;">
                    <span class="name" style="padding: 5px 0;">${staffNo}</span>
                    <span class="name" style="padding: 5px 0;">${staffName}</span>
                    <span class="name" style="padding-bottom:0px">${department}</span>
                </div>
            `;

            profileInfo.addEventListener('click', function () {
                if (profileInfo.innerHTML === originalContent) {
                    profileInfo.innerHTML = newContent;
                } else {
                    profileInfo.innerHTML = originalContent;
                }
            });
        });
    </script>

    <script src="~/Scripts/jquery.min.js"></script>
</body>
</html>